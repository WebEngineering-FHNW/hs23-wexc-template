<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Working Hours Single Day</title>
    <link rel="shortcut icon" href="../img/logo/logo-60x54.png" type="image/svg" />
    <link rel="stylesheet"    href="../WorkingHours.css" />
</head>
<body>
<header>
    <img src="../img/logo/logo.svg" alt="Kolibri Logo" height="171">
</header>
<main>

    <h1>Working Hours Single Day</h1>

    <fieldset name="workingHoursInput" id="workingHoursInput">
        <legend>Working Hours</legend>
        <!-- projection will be added here: -->

    </fieldset>

    <div>
        <input type="checkbox" id="checkDisabled">
        <label for="checkDisabled">Disabled</label>
    </div>
    <div>
        <input type="checkbox" id="checkReadOnly">
        <label for="checkReadOnly">Read Only</label>
    </div>
    <div>
        <input type="checkbox" id="checkRequired">
        <label for="checkRequired">Required</label>
    </div>
    <div>
        <input type="checkbox" id="checkDarkTheme">
        <label for="checkDarkTheme">Dark Theme</label>
    </div>


    <h2>Business rules</h2>
    <div class="rules">
        <div>Time values between 0:00 and 24:00, are required, cannot be empty.</div> <div>otherwise invalid</div>
        <div>AM Start <= AM End.</div>                        <div>automatically enforced</div>
        <div>AM End <= PM Start.</div>                        <div>automatically enforced</div>
        <div>PM Start <= PM End.</div>                        <div>automatically enforced</div>
        <div>Start not earlier than 4:00. </div>              <div>otherwise invalid</div>
        <div>End not later than 22:00. </div>                 <div>otherwise invalid</div>
        <div>Lunch break must be at least 40 minutes.</div>   <div>automatically enforced</div>
        <div>Total time must not exceed 12 hours. </div>      <div>otherwise invalid</div>
    </div>

    <div>
        <p>Here we introduce proper MVC. We even make use of the Projector Pattern such that
            you can replace the currently simple projector as used in <em>starter.js</em> with your
            own view and binding <strong>by only changing the import file name and nothing else</strong>!
            Your component should work like a drop-in replacement.
        </p>
        <p>In particular, the controller, the model, the business rules, and the existing test cases can remain untouched.</p>
        <p>As a side note you might observe that the 'simpleDayProjector' uses 'min' and 'max' attributes in the view's
            input elements, as opposed to enforcing these constraints through business rules in the controller.
            This is an example of using specialized view capabilities that some of your designs might also have.
            I hope we will find time to discuss the benefits and drawbacks of this approach.
        </p>
    </div>

    <script>
        checkDisabled.onclick = _ => checkDisabled.checked
                                     ? workingHoursInput.setAttribute("disabled", "on")                  // one can disable a fieldset
                                     : workingHoursInput.removeAttribute("disabled");

        const inputs = () => workingHoursInput.querySelectorAll("input");
        checkReadOnly.onclick = _ => checkReadOnly.checked
                                     ? inputs().forEach(input => input.setAttribute("readonly", "on"))     // only inputs can be set to readonly
                                     : inputs().forEach(input => input.removeAttribute("readonly"));

        checkRequired.onclick = _ => checkRequired.checked
                                     ? inputs().forEach(input => input.setAttribute("required", "on"))
                                     : inputs().forEach(input => input.removeAttribute("required"));

        checkDarkTheme.onclick = _ => checkDarkTheme.checked
                                     ? document.querySelector("html").classList.add("darkTheme")
                                     : document.querySelector("html").classList.remove("darkTheme");

    </script>
    <script type="module" src="./starter.js"></script>

</main></body>
</html>
